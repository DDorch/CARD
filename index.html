<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>EXstat.CARD • EXstat.CARD</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="EXstat.CARD">
<meta name="description" content="Card of Analyse and Diagnostic in R for a user-friendly experience of data aggregation with EXstat.">
<meta property="og:description" content="Card of Analyse and Diagnostic in R for a user-friendly experience of data aggregation with EXstat.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">EXstat.CARD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="exstatcard-">EXstat.CARD <a href="https://github.com/louis-heraut/EXstat/" class="external-link"><img src="figures/flower_alt_hex.png" align="right" width="160" height="160" alt=""></a>
<a class="anchor" aria-label="anchor" href="#exstatcard-"></a>
</h1></div>
<!-- badges: start -->

<p><strong>EXstat.CARD</strong> is a set of parameterization files for the banking and simplification of hydroclimatic temporal data aggregation with the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> package.</p>
<p>This package lists all the available CARDs and is intended to work in conjunction with EXstat. For information on how to use these CARDs, please refer to the <a href="https://github.com/louis-heraut/EXstat?tab=readme-ov-file#extraction-process-with-card" class="external-link">EXstat documentation</a>. This documentation is intended to help advanced users create their own CARD.</p>
<p>This project was carried out for National Research Institute for Agriculture, Food and the Environment (Institut National de Recherche pour l’Agriculture, l’Alimentation et l’Environnement, <a href="https://agriculture.gouv.fr/inrae-linstitut-national-de-recherche-pour-lagriculture-lalimentation-et-lenvironnement" class="external-link">INRAE</a> in french) and is at the core of <a href="https://github.com/louis-heraut/MAKAHO" class="external-link">MAKAHO</a> which won the <a href="https://www.enseignementsup-recherche.gouv.fr/fr/remise-des-prix-science-ouverte-des-donnees-de-la-recherche-2024-98045" class="external-link">2024 Open Science Research Data Award</a> in the “Creating the Conditions for Reuse” category.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For latest development version in R</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"louis-heraut/EXstat.CARD"</span><span class="op">)</span></span></code></pre></div>
<p>(which will take care of EXstat installation also)</p>
</div>
<div class="section level2">
<h2 id="you-need-a-new-card-">You need a new CARD ?<a class="anchor" aria-label="anchor" href="#you-need-a-new-card-"></a>
</h2>
<ul>
<li>
<strong>Good Solution</strong> : Search existing request in the issue list and if no one has asked for it, create a new issue.</li>
<li>
<strong>Better Solution</strong> : Along with the issue submission, provide a minimal CARD file with informative metadata filled out.</li>
<li>
<strong>Best Solution</strong> : Create and test a CARD by your own and submit a pull request. This is the fastest way to get a new CARD.</li>
</ul>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<div class="section level3">
<h3 id="inst__all__">
<a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/inst/__all__" class="external-link">inst/__all__</a><a class="anchor" aria-label="anchor" href="#inst__all__"></a>
</h3>
<p>In this directory, you can find all the different CARDs available, organized by topic and type of aggregation: serie or criteria. In the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> terminology, a criterion is an aggregated variable that does not retain any temporal extension, unlike a serie variable, which maintains a temporal extension even after the aggregation process.</p>
<p>All CARDs have the same structure, as exemplified by the annual average daily flow <a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/inst/__all__/Flow/Mean_Flows/serie/QA.R" class="external-link"><code>QA</code></a> in <a href="https://github.com/louis-heraut/EXstat.CARD/tree/main/inst/__all__/Flow/Mean_Flows/serie" class="external-link"><code>__all__/Flow/Mean_Flows/serie</code></a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#   ___                _ </span></span>
<span><span class="co">#  / __| __ _  _ _  __| |</span></span>
<span><span class="co"># | (__ / _` || '_|/ _` |</span></span>
<span><span class="co">#  \___|\__,_||_|  \__,_|</span></span>
<span><span class="co"># Copyright 2022-2025 Louis Héraut (louis.heraut@inrae.fr)*1</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># *1   INRAE, France</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># This file is part of EXstat.CARD R package.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># EXstat.CARD R package is free software: you can redistribute it</span></span>
<span><span class="co"># and/or modify it under the terms of the GNU General Public License</span></span>
<span><span class="co"># as published by the Free Software Foundation, either version 3 of</span></span>
<span><span class="co"># the License, or (at your option) any later version.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># EXstat.CARD R package is distributed in the hope that it will be</span></span>
<span><span class="co"># useful, but WITHOUT ANY WARRANTY; without even the implied warranty</span></span>
<span><span class="co"># of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></span>
<span><span class="co"># See the GNU General Public License for more details.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># You should have received a copy of the GNU General Public License</span></span>
<span><span class="co"># along with EXstat.CARD R package.</span></span>
<span><span class="co"># If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></span>
<span></span>
<span></span>
<span><span class="co">## INFO ______________________________________________________________</span></span>
<span><span class="co">### English __________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.variable_en</span> <span class="op">=</span> <span class="st">"QA"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.unit_en</span> <span class="op">=</span> <span class="st">"m^{3}.s^{-1}"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.name_en</span> <span class="op">=</span> <span class="st">"Annual mean daily discharge"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.description_en</span> <span class="op">=</span> <span class="st">""</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.method_en</span> <span class="op">=</span> <span class="st">"1. annual aggregation [09-01, 08-31] - mean"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.sampling_period_en</span> <span class="op">=</span> <span class="st">"09-01, 08-31"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.topic_en</span> <span class="op">=</span> <span class="st">"Flow, Mean Flows, Intensity"</span></span>
<span></span>
<span><span class="co">### French ___________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.variable_fr</span> <span class="op">=</span> <span class="st">"QA"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.unit_fr</span> <span class="op">=</span> <span class="st">"m^{3}.s^{-1}"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.name_fr</span> <span class="op">=</span> <span class="st">"Moyenne annuelle du débit journalier"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.description_fr</span> <span class="op">=</span> <span class="st">""</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.method_fr</span> <span class="op">=</span> <span class="st">"1. agrégation annuelle [01-09, 31-08] - moyenne"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.sampling_period_fr</span> <span class="op">=</span> <span class="st">"01-09, 31-08"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.topic_fr</span> <span class="op">=</span> <span class="st">"Débit, Moyennes Eaux, Intensité"</span></span>
<span></span>
<span><span class="co">### Global ___________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.preferred_hydrological_month</span> <span class="op">=</span> <span class="fl">9</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.is_date</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.to_normalise</span> <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.palette</span> <span class="op">=</span> <span class="st">"#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830"</span></span>
<span></span>
<span></span>
<span><span class="co">## PROCESS ___________________________________________________________</span></span>
<span><span class="co">### P1 _______________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.funct</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>QA<span class="op">=</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.funct_args</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Q"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.time_step</span> <span class="op">=</span> <span class="st">"year"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.sampling_period</span> <span class="op">=</span> <span class="st">"09-01"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.NApct_lim</span> <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.NAyear_lim</span> <span class="op">=</span> <span class="fl">10</span></span></code></pre></div>
<p>CARDs are separated into 2 main parts: <code>INFO</code> and <code>PROCESS</code>.</p>
<div class="section level5">
<h5 id="info">INFO<a class="anchor" aria-label="anchor" href="#info"></a>
</h5>
<p>In this part, you can find all the necessary information about the variable represented by this CARD. There are English and French versions for parameters such as the unit, the name, and the description. Global info are general info that do not need translation.</p>
<p>This information is not merely informational; it serves as metadata for <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a>.</p>
<p>All of these parameters are optional because each of them has a default value based on the <a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/inst/__default__.R" class="external-link"><code>__default__.R</code></a> CARD, which you can find in the <a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/inst" class="external-link">inst</a> directory. However, you are definitely encouraged to fill out most of them.</p>
</div>
<div class="section level5">
<h5 id="process">PROCESS<a class="anchor" aria-label="anchor" href="#process"></a>
</h5>
<p>In the PROCESS part, you will find steps needed to extract the desired variable. The parameters listed here are parameters that you can use in <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a>’s <a href="https://github.com/louis-heraut/EXstat/blob/main/R/process_extraction.R" class="external-link"><code>process_extraction()</code></a> function. Here, there is only one step because we only need to calculate a yearly mean and no other type of aggregation. However, for example, we can add another step like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### P2 _______________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.funct</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"meanQA"</span><span class="op">=</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.funct_args</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"QA"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.time_step</span> <span class="op">=</span> <span class="st">"none"</span></span></code></pre></div>
<p>And that will now be the modulus of the flow, which is the average of the annual average daily flow, labeled as <code>meanQA</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="r">
<a href="https://github.com/louis-heraut/EXstat.CARD/tree/main/R" class="external-link">R/</a><a class="anchor" aria-label="anchor" href="#r"></a>
</h3>
<p>In this directory, you can find all the different functions needed for the aggregation process in CARDs. They are ordered by type of application, but it may take some time to search and understand what is available or not. This is where you can modify or add your own function.</p>
<p>This directory also contains the core functions for <a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/R/CARD_management.R" class="external-link">CARD management</a> and <a href="https://github.com/louis-heraut/EXstat.CARD/blob/main/R/CARD_process.R" class="external-link">CARD extraction</a>, which allow users to interact with the CARD formatting in connection with the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> package.</p>
</div>
</div>
<div class="section level2">
<h2 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h2>
<p>📬 — <strong>I would like an upgrade / I have a question / Need to reach me</strong><br>
Feel free to <a href="https://github.com/louis-heraut/EXstat.CARD/issues" class="external-link">open an issue</a> ! I’m actively maintaining this project, so I’ll do my best to respond quickly.<br>
I’m also reachable on my institutional INRAE <a href="mailto:louis.heraut@inrae.fr?subject=%5BEXstat.CARD%5D">email</a> for more in-depth discussions.</p>
<p>🛠️ — <strong>I found a bug</strong><br>
- <em>Good Solution</em> : Search the existing issue list, and if no one has reported it, create a new issue !<br>
- <em>Better Solution</em> : Along with the issue submission, provide a minimal reproducible code sample.<br>
- <em>Best Solution</em> : Fix the issue and submit a pull request. This is the fastest way to get a bug fixed.</p>
<p>🚀 — <strong>Want to contribute ?</strong><br>
If you don’t know where to start, <a href="https://github.com/louis-heraut/EXstat.CARD/issues" class="external-link">open an issue</a>.</p>
<p>If you want to try by yourself, why not start by also <a href="https://github.com/louis-heraut/EXstat.CARD/issues" class="external-link">opening an issue</a> to let me know you’re working on something ? Then:</p>
<ul>
<li>Fork this repository<br>
</li>
<li>Clone your fork locally and make changes (or even better, create a new branch for your modifications)</li>
<li>Push to your fork and verify everything works as expected</li>
<li>Open a Pull Request on GitHub and describe what you did and why</li>
<li>Wait for review</li>
<li>For future development, keep your fork updated using the GitHub “Sync fork” functionality or by pulling changes from the original repo (or even via remote upstream if you’re comfortable with Git). Otherwise, feel free to delete your fork to keep things tidy !</li>
</ul>
<p>If we’re connected through work, why not reach out via email to see if we can collaborate more closely on this repo by adding you as a collaborator !</p>
<p>Refer to the <a href="CONTRIBUTING.html">CONTRIBUTING file</a> for contribution guidelines and help.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing EXstat.CARD</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Louis Héraut <br><small class="roles"> Maintainer, author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/louis-heraut/EXstat.CARD/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/louis-heraut/EXstat.CARD/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-green" alt="Lifecycle: stable"></a></li>
<li><a href="code_of_conduct.html"><img src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg" alt="Contributor Covenant"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Louis Héraut.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
